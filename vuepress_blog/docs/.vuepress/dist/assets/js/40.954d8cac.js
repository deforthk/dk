(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{709:function(a,t,s){"use strict";s.r(t);var n=s(3),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"工作需求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作需求"}},[a._v("#")]),a._v(" 工作需求")]),a._v(" "),s("p",[a._v("在此前工作中分组显示结果后有一列的数据并不相同但是需要将其全部展示出来。")]),a._v(" "),s("p",[a._v("所以这里用了在语句中将其拼接")]),a._v(" "),s("h2",{attrs:{id:"代码中使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码中使用"}},[a._v("#")]),a._v(" 代码中使用")]),a._v(" "),s("p",[a._v("使用的mybatis中xml文件语句如下~")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("select")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("statZhgz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("parameterType")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("resultType")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("statZhgz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  SELECT DATE_FORMAT(a.tbsj,'%m') yf,GROUP_CONCAT(a.gznr separator '；') as gznr,sum(a.gts) gts,GROUP_CONCAT(a.bz separator '；') bz\n  FROM ywsj_gttbxx a\n  WHERE a.scxm_id = #{xmid} and DATE_FORMAT( a.tbsj,'%Y') = #{years}\n  GROUP BY yf\n  ORDER BY yf\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("select")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("h2",{attrs:{id:"group-concat-函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#group-concat-函数"}},[a._v("#")]),a._v(" group_concat 函数")]),a._v(" "),s("h3",{attrs:{id:"语法结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法结构"}},[a._v("#")]),a._v(" 语法结构")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("\nGROUP_CONCAT([DISTINCT] expr [,expr ...] [ORDER BY {unsigned_integer | col_name | expr} [ASC | DESC] [,col_name ...]] [SEPARATOR str_val])\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"简单解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简单解析"}},[a._v("#")]),a._v(" 简单解析")]),a._v(" "),s("p",[a._v("DISTINCT：去除重复值")]),a._v(" "),s("p",[a._v("expr [,expr ...]：一个或多个字段（或表达式）")]),a._v(" "),s("p",[a._v("ORDER BY {unsigned_integer | col_name | expr} [ASC | DESC] [,col_name ...]：根据字段或表达式进行排序，可多个")]),a._v(" "),s("p",[a._v("SEPARATOR str_val：分隔符（默认为英文逗号）")]),a._v(" "),s("h3",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[a._v("#")]),a._v(" 注意事项")]),a._v(" "),s("ol",[s("li",[a._v("最大长度（字符）限制")])]),a._v(" "),s("p",[a._v("系统变量：group_concat_max_len")]),a._v(" "),s("p",[a._v("SET [SESSION | GLOBAL] group_concat_max_len = val;\nval必须是无符号整数")]),a._v(" "),s("p",[a._v("用了GROUP_CONCAT函数，SELECT语句中的LIMIT语句起不了任何作用。")]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("INT类型陷阱")])]),a._v(" "),s("p",[a._v("连接的字段为INT类型时，低版本或出现返回的结果不是逗号分隔的字符串，而是byte[]。")]),a._v(" "),s("p",[a._v("此时，需要用CAST或CONVERT函数进行转换。")]),a._v(" "),s("h2",{attrs:{id:"end"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#end"}},[a._v("#")]),a._v(" End")]),a._v(" "),s("p",[a._v("Mysql中语句还有很多需要学习的地方，再接再厉！！！")])])}),[],!1,null,null,null);t.default=e.exports}}]);