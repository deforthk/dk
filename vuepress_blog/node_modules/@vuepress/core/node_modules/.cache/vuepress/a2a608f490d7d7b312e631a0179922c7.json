{"remainingRequest":"E:\\workspace\\dk\\h1sakura1025\\vuepress_blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\dk\\h1sakura1025\\vuepress_blog\\node_modules\\vuepress-plugin-meting\\bin\\Meting.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\dk\\h1sakura1025\\vuepress_blog\\node_modules\\vuepress-plugin-meting\\bin\\Meting.vue","mtime":1621272093977},{"path":"E:\\workspace\\dk\\h1sakura1025\\vuepress_blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\dk\\h1sakura1025\\vuepress_blog\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\workspace\\dk\\h1sakura1025\\vuepress_blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\dk\\h1sakura1025\\vuepress_blog\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJNZXRpbmciLA0KICBwcm9wczogew0KICAgIGF1dG86IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIiLA0KICAgIH0sDQogICAgc2VydmVyOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAiIiwNCiAgICB9LA0KICAgIHR5cGU6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIiLA0KICAgIH0sDQogICAgbWlkOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAiIiwNCiAgICB9LA0KICAgIGZpeGVkOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICBtaW5pOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogbnVsbCwNCiAgICB9LA0KICAgIGF1dG9wbGF5OiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICB0aGVtZTogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIiNiN2RhZmYiLA0KICAgIH0sDQogICAgbG9vcDogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogImFsbCIsDQogICAgfSwNCiAgICBvcmRlcjogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogImxpc3QiLA0KICAgIH0sDQogICAgcHJlbG9hZDogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogImF1dG8iLA0KICAgIH0sDQogICAgdm9sdW1lOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwLjcsDQogICAgfSwNCiAgICBjdXN0b21BdWRpb1R5cGU6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCwNCiAgICB9LA0KICAgIG11dGV4OiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZSwNCiAgICB9LA0KICAgIGxyY1R5cGU6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDAsDQogICAgfSwNCiAgICBsaXN0Rm9sZGVkOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICBsaXN0TWF4SGVpZ2h0OiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAyNTAsDQogICAgfSwNCiAgICBzdG9yYWdlTmFtZTogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogInZ1ZXByZXNzLXBsdWdpbi1tZXRpbmciLA0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG1ldGluZ0FwaTogTUVUSU5HX0FQSSwNCiAgICAgIGF1ZGlvOiBbXSwNCiAgICB9DQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICBpZiAodGhpcy5hdXRvKSB0aGlzLl9wYXJzZV9saW5rKCkNCg0KICAgIGNvbnN0IHBhcmFtcyA9IHsNCiAgICAgIHNlcnZlcjogdGhpcy5zZXJ2ZXIsDQogICAgICB0eXBlOiB0aGlzLnR5cGUsDQogICAgICBpZDogdGhpcy5taWQsDQogICAgICByOiBNYXRoLnJhbmRvbSgpLA0KICAgIH0NCg0KICAgIGxldCB1cmwgPSB0aGlzLm1ldGluZ0FwaQ0KICAgIGxldCBwYXJhbXNBcnJheSA9IFtdDQogICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKChrZXkpID0+DQogICAgICBwYXJhbXNBcnJheS5wdXNoKGtleSArICI9IiArIHBhcmFtc1trZXldKQ0KICAgICkNCiAgICB1cmwgKz0gIj8iICsgcGFyYW1zQXJyYXkuam9pbigiJiIpDQoNCiAgICBmZXRjaCh1cmwsIHsNCiAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgcmVmZXJlcjogbnVsbCwNCiAgICAgIH0sDQogICAgfSkNCiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpDQogICAgICAudGhlbigocmVzdWx0KSA9PiB7DQogICAgICAgIGNvbnN0IHJlcyA9IHJlc3VsdC5tYXAoKG9iaikgPT4gew0KICAgICAgICAgIGNvbnN0IHJPYmogPSB7fQ0KICAgICAgICAgIHJPYmoubmFtZSA9IG9iai50aXRsZQ0KICAgICAgICAgIHJPYmouYXJ0aXN0ID0gb2JqLmF1dGhvcg0KICAgICAgICAgIHJPYmoudXJsID0gb2JqLnVybA0KICAgICAgICAgIHJPYmouY292ZXIgPSBvYmoucGljDQogICAgICAgICAgck9iai5scmMgPSBvYmoubHJjDQogICAgICAgICAgcmV0dXJuIHJPYmoNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5hdWRpbyA9IHJlcw0KICAgICAgfSkNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgX3BhcnNlX2xpbmsoKSB7DQogICAgICBsZXQgcnVsZXMgPSBbDQogICAgICAgIFsibXVzaWMuMTYzLmNvbS4qc29uZy4qaWQ9KFxcZCspIiwgIm5ldGVhc2UiLCAic29uZyJdLA0KICAgICAgICBbIm11c2ljLjE2My5jb20uKmFsYnVtLippZD0oXFxkKykiLCAibmV0ZWFzZSIsICJhbGJ1bSJdLA0KICAgICAgICBbIm11c2ljLjE2My5jb20uKmFydGlzdC4qaWQ9KFxcZCspIiwgIm5ldGVhc2UiLCAiYXJ0aXN0Il0sDQogICAgICAgIFsibXVzaWMuMTYzLmNvbS4qcGxheWxpc3QuKmlkPShcXGQrKSIsICJuZXRlYXNlIiwgInBsYXlsaXN0Il0sDQogICAgICAgIFsibXVzaWMuMTYzLmNvbS4qZGlzY292ZXIvdG9wbGlzdC4qaWQ9KFxcZCspIiwgIm5ldGVhc2UiLCAicGxheWxpc3QiXSwNCiAgICAgICAgWyJ5LnFxLmNvbS4qc29uZy8oXFx3KykuaHRtbCIsICJ0ZW5jZW50IiwgInNvbmciXSwNCiAgICAgICAgWyJ5LnFxLmNvbS4qYWxidW0vKFxcdyspLmh0bWwiLCAidGVuY2VudCIsICJhbGJ1bSJdLA0KICAgICAgICBbInkucXEuY29tLipzaW5nZXIvKFxcdyspLmh0bWwiLCAidGVuY2VudCIsICJhcnRpc3QiXSwNCiAgICAgICAgWyJ5LnFxLmNvbS4qcGxheXNxdWFyZS8oXFx3KykuaHRtbCIsICJ0ZW5jZW50IiwgInBsYXlsaXN0Il0sDQogICAgICAgIFsieS5xcS5jb20uKnBsYXlsaXN0LyhcXHcrKS5odG1sIiwgInRlbmNlbnQiLCAicGxheWxpc3QiXSwNCiAgICAgICAgWyJ4aWFtaS5jb20uKnNvbmcvKFxcdyspIiwgInhpYW1pIiwgInNvbmciXSwNCiAgICAgICAgWyJ4aWFtaS5jb20uKmFsYnVtLyhcXHcrKSIsICJ4aWFtaSIsICJhbGJ1bSJdLA0KICAgICAgICBbInhpYW1pLmNvbS4qYXJ0aXN0LyhcXHcrKSIsICJ4aWFtaSIsICJhcnRpc3QiXSwNCiAgICAgICAgWyJ4aWFtaS5jb20uKmNvbGxlY3QvKFxcdyspIiwgInhpYW1pIiwgInBsYXlsaXN0Il0sDQogICAgICBdDQoNCiAgICAgIGZvciAobGV0IHJ1bGUgb2YgcnVsZXMpIHsNCiAgICAgICAgbGV0IHBhdHQgPSBuZXcgUmVnRXhwKHJ1bGVbMF0pDQogICAgICAgIGxldCByZXMgPSBwYXR0LmV4ZWModGhpcy5hdXRvKQ0KICAgICAgICBpZiAocmVzICE9PSBudWxsKSB7DQogICAgICAgICAgdGhpcy5zZXJ2ZXIgPSBydWxlWzFdDQogICAgICAgICAgdGhpcy50eXBlID0gcnVsZVsyXQ0KICAgICAgICAgIHRoaXMubWlkID0gcmVzWzFdDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0sDQp9DQo="},{"version":3,"sources":["Meting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Meting.vue","sourceRoot":"node_modules/vuepress-plugin-meting/bin","sourcesContent":["<template>\r\n  <APlayer\r\n    :audio=\"audio\"\r\n    :fixed=\"fixed\"\r\n    :mini=\"mini\"\r\n    :autoplay=\"autoplay\"\r\n    :theme=\"theme\"\r\n    :loop=\"loop\"\r\n    :order=\"order\"\r\n    :preload=\"preload\"\r\n    :volume=\"volume\"\r\n    :custom-audio-type=\"customAudioType\"\r\n    :mutex=\"mutex\"\r\n    :lrc-type=\"lrcType\"\r\n    :list-folded=\"listFolded\"\r\n    :list-max-height=\"listMaxHeight\"\r\n    :storage-name=\"storageName\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Meting\",\r\n  props: {\r\n    auto: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    server: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    type: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    mid: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    fixed: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    mini: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: null,\r\n    },\r\n    autoplay: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    theme: {\r\n      required: false,\r\n      type: String,\r\n      default: \"#b7daff\",\r\n    },\r\n    loop: {\r\n      required: false,\r\n      type: String,\r\n      default: \"all\",\r\n    },\r\n    order: {\r\n      required: false,\r\n      type: String,\r\n      default: \"list\",\r\n    },\r\n    preload: {\r\n      required: false,\r\n      type: String,\r\n      default: \"auto\",\r\n    },\r\n    volume: {\r\n      required: false,\r\n      type: Number,\r\n      default: 0.7,\r\n    },\r\n    customAudioType: {\r\n      required: false,\r\n      type: Object,\r\n      default: undefined,\r\n    },\r\n    mutex: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    lrcType: {\r\n      required: false,\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    listFolded: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    listMaxHeight: {\r\n      required: false,\r\n      type: Number,\r\n      default: 250,\r\n    },\r\n    storageName: {\r\n      required: false,\r\n      type: String,\r\n      default: \"vuepress-plugin-meting\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      metingApi: METING_API,\r\n      audio: [],\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    if (this.auto) this._parse_link()\r\n\r\n    const params = {\r\n      server: this.server,\r\n      type: this.type,\r\n      id: this.mid,\r\n      r: Math.random(),\r\n    }\r\n\r\n    let url = this.metingApi\r\n    let paramsArray = []\r\n    Object.keys(params).forEach((key) =>\r\n      paramsArray.push(key + \"=\" + params[key])\r\n    )\r\n    url += \"?\" + paramsArray.join(\"&\")\r\n\r\n    fetch(url, {\r\n      headers: {\r\n        referer: null,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const res = result.map((obj) => {\r\n          const rObj = {}\r\n          rObj.name = obj.title\r\n          rObj.artist = obj.author\r\n          rObj.url = obj.url\r\n          rObj.cover = obj.pic\r\n          rObj.lrc = obj.lrc\r\n          return rObj\r\n        })\r\n        this.audio = res\r\n      })\r\n  },\r\n\r\n  methods: {\r\n    _parse_link() {\r\n      let rules = [\r\n        [\"music.163.com.*song.*id=(\\\\d+)\", \"netease\", \"song\"],\r\n        [\"music.163.com.*album.*id=(\\\\d+)\", \"netease\", \"album\"],\r\n        [\"music.163.com.*artist.*id=(\\\\d+)\", \"netease\", \"artist\"],\r\n        [\"music.163.com.*playlist.*id=(\\\\d+)\", \"netease\", \"playlist\"],\r\n        [\"music.163.com.*discover/toplist.*id=(\\\\d+)\", \"netease\", \"playlist\"],\r\n        [\"y.qq.com.*song/(\\\\w+).html\", \"tencent\", \"song\"],\r\n        [\"y.qq.com.*album/(\\\\w+).html\", \"tencent\", \"album\"],\r\n        [\"y.qq.com.*singer/(\\\\w+).html\", \"tencent\", \"artist\"],\r\n        [\"y.qq.com.*playsquare/(\\\\w+).html\", \"tencent\", \"playlist\"],\r\n        [\"y.qq.com.*playlist/(\\\\w+).html\", \"tencent\", \"playlist\"],\r\n        [\"xiami.com.*song/(\\\\w+)\", \"xiami\", \"song\"],\r\n        [\"xiami.com.*album/(\\\\w+)\", \"xiami\", \"album\"],\r\n        [\"xiami.com.*artist/(\\\\w+)\", \"xiami\", \"artist\"],\r\n        [\"xiami.com.*collect/(\\\\w+)\", \"xiami\", \"playlist\"],\r\n      ]\r\n\r\n      for (let rule of rules) {\r\n        let patt = new RegExp(rule[0])\r\n        let res = patt.exec(this.auto)\r\n        if (res !== null) {\r\n          this.server = rule[1]\r\n          this.type = rule[2]\r\n          this.mid = res[1]\r\n          return\r\n        }\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n"]}]}